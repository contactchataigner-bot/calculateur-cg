<!DOCTYPE html>
<html lang="fr">
<head> <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Calculateur CG ‚Äì Ma journ√©e</title>
<style>
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;margin:0;background:#f6f7f9;color:#222}
    header{position:sticky;top:0;background:#fff;border-bottom:1px solid #e6e8eb;padding:12px 16px}
    h1{font-size:18px;margin:0}
    main{max-width:900px;margin:16px auto;padding:0 12px}
    .card{background:#fff;border:1px solid #e6e8eb;border-radius:14px;padding:14px;margin-bottom:12px;box-shadow:0 0 0 rgba(0,0,0,0)}
    .row{display:grid;grid-template-columns:1.3fr 100px 110px 36px;gap:8px;align-items:center}
    .row input, .row select{width:100%;padding:10px;border:1px solid #d8dbe0;border-radius:10px;font-size:14px}
    .row .cg{background:#f3f6ff;border:1px dashed #c7d2fe}
    .row button{border:0;background:#f3f4f6;border-radius:10px;height:40px;cursor:pointer}
    .row button:hover{background:#eee}
    .toolbar{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:8px}
    .toolbar input{flex:1;min-width:180px}
    .pill{display:inline-block;padding:6px 10px;border-radius:999px;background:#eef6f3;color:#0d6e3c;font-weight:600;font-size:13px}
    .total{display:flex;justify-content:space-between;align-items:center;padding:12px 14px;border-radius:12px;background:#0d6efd;color:#fff;font-weight:700}
    .muted{color:#666;font-size:12px}
    .actions{display:flex;gap:8px;flex-wrap:wrap}
    .btn{border:0;border-radius:10px;padding:10px 14px;cursor:pointer;font-weight:600}
    .btn-ghost{background:#eef2ff;color:#1e40af}
    .btn-danger{background:#fee2e2;color:#991b1b}
    .hint{font-size:12px;color:#666;margin-top:6px}
    .footer{margin-top:12px;font-size:12px;color:#666;text-align:center}
    .warn{background:#fff7ed;border:1px solid #fed7aa;color:#9a3412;border-radius:10px;padding:10px}
  </style>
  </head>
<body>
<script>
/* Colle ici le contenu de ton aliments.csv entre les backticks */
const CSV_ALIMENTS = `
ALIMENT;Charge glyc√©mique pour 100g;;;;
Lait concentr√© non sucr√©;3;;;;
Lait concentr√© sucr√©;34;;;;
Lait amandes sucr√©, enrichi calcium voir aussi boisson v√©g√©tale;1;;;;
Boisson v√©g√©tale amandes sucr√©, enrichi calcium;1;;;;
Lait millet amande noisette estimation voir aussi boisson v√©g√©tale;9;;;;
Boisson v√©g√©tale riz et moka estimation;9;;;;
Boisson v√©g√©tale millet amande noisette estimation;9;;;;
Boisson v√©g√©tale avoine vanille estimation;5,5;;;;
Boisson v√©g√©tale au sarrasin (buckwheat) estimation;5;;;;
Lait amandes nature non sucr√© voir aussi boisson v√©g√©tale;0;;;;
Boisson v√©g√©tale amandes nature non sucr√©;0;;;;
Lait avoine nature voir aussi boisson v√©g√©tale;2,5;;;;
Boisson v√©g√©tale avoine nature;2,5;;;;
Lait de ch√®vre entier cru;1;;;;
Lait de ch√®vre entier UHT;1;;;;
Lait de ch√®vre demi √©cr√©m√©;1;;;;
Lait de coco;1;;;;
Lait de riz, voir aussi boisson v√©g√©tale;10;;;;
Boisson v√©g√©tale au riz;10;;;;
Boisson v√©g√©tale riz √©peautre amandes;8;;;;
Boisson v√©g√©tale riz √©peautre noisettes;7,5;;;;
Boisson v√©g√©tale riz millet macadamia;8;;;;
Boisson v√©g√©tale riz chocolat noisette estimation;10;;;;
Boisson v√©g√©tale riz ch√¢taigne avoine;9;;;;
Boisson v√©g√©tale riz cacao estimation;11;;;;
Boisson v√©g√©tale noisettes;1;;;;
Lait de soja nature voir aussi boisson v√©g√©tale;0,5;;;;
Boisson v√©g√©tale coco;1;;;;
Boisson v√©g√©tale noix de cajou;0,35;;;;
Boisson v√©g√©tale au soja nature;0,5;;;;
Boisson v√©g√©tale au chanvre sans sucre;0;;;;
Boisson v√©g√©tale amande chocolat estimation;7;;;;
Boisson v√©g√©tale amande vanille estimation;1;;;;
Lait de vache entier UHT;1;;;;
Lait de vache √©cr√©m√© ;3;;;;
Lait √©cr√©m√© en poudre ;32,5;;;;
Lait entier en poudre;11,5;;;;
Lait en poudre 1/2 √©cr√©m√©;13;;;;
Lait ferment√© √† boire nature;1;;;;
K√©fir de lait;2;;;;
Haricots Flageolets verts bouilli/cuit √† l‚Äôeau;3;;;;
Haricots flageolet surgel√©s;6,5;;;;
Haricots rouges bouilli/cuits √† l‚Äôeau;4;;;;
Haricots blancs, bouilli/cuit √† l‚Äôeau;4;;;;
Haricots coco, bouilli/cuits √† l‚Äôeau;5;;;;
Lentilles vertes, bouillie/cuite √† l‚Äôeau;4;;;;
Lentilles blondes, bouillie/cuite √† l‚Äôeau;5;;;;
Lentilles corail, bouillie / cuite √† l‚Äôeau;4,5;;;;
Petits pois surgel√©s, cuits;3;;;;
Petits pois pur√©e;3;;;;
Petits pois cuits;3,5;;;;
Pois cass√©s, bouilli/cuit √† l‚Äôeau;15;;;;
F√®ves cuites;7;;;;
Pois chiches, bouilli/cuit √† l‚Äôeau;5;;;;
Alcamatin estimation;30;;;;
Cacao raw powder, Purasana estimation;3;;;;
Poudre de cacao cru,Purasana estimation;3;;;;
Bouillie de millet Alcamatin estimation;30;;;;
Amarante;21;;;;
Flocons d‚Äôavoine;23;;;;
Muesli moyen sans sucre ajout√©;30,8;;;;
Crousty 3 chocolats, Auchan, estimation;48,30;;;;
Cruesli chocolat au lait, Quaker, estimation;41,30;;;;
Muesli bio flocons d‚Äôavoine et noix, estimation;13,12;;;;
Son d‚Äôavoine;20,5;;;;
Flocon d‚Äô√©peautre;30;;;;
Bl√© (type Ebly);14;;;;
Boulgour;37;;;;
C√©r√©ales (petit dej);55,5;;;;
Corn flakes natures;75;;;;
Ma√Øs ;10;;;;
Ma√Øs en conserve;10;;;;
Orge perl√© cuit;15;;;;
Petit √©peautre;24;;;;
Quinoa;10;;;;
Riz blanc cuit;67;;;;
Riz Basmati cuit;12;;;;
Riz complet cuit;20;;;;
Riz sauvage cuit;10;;;;
Riz gluant;29;;;;
Riz thai cuit;15,5;;;;
Tapioca;75;;;;
Lupins, d√©lice en morceaux, estimation;11;;;;
D√©lice en morceaux, Lupins, estimation;11;;;;
Semoule de ma√Øs, polenta;53;;;;
Semoule bl√© cuite;16;;;;
weetabix c√©r√©ales;61;;;;
Chips;31;;;;
Gingembre racine;1;;;;
Gingembre confit;8,71;;;;
Pomme de terre au four sans peau;24,5;;;;
Pomme de terre au four avec peau;22,5;;;;
Pomme de terre duchesse surgel√©es cuite;36;;;;
Pomme de terre dauphine surgel√©e, cuite;37;;;;
Pomme de terre cuites vapeur;19;;;;
Pomme de terre saut√©, pr√©-frite, surgel√©e, cuite;28;;;;
Patates douces, cuite;6;;;;
Pomme de terre Frites;40;;;;
Pur√©e de Pomme de terre;17;;;;
Pur√©e de pomme de terre en flocons;15;;;;
Topinambourg;8;;;;
Farine d‚ÄôAvoine;27;;;;
FitOlin (farine de lin minceur);7;;;;
Farine d‚ÄôArrow root;10;;;;
Farine d‚ÄôAmarante;26,5;;;;
Linette (farine de lin);7,5;;;;
Farine de Bl√© tendre T80;67;;;;
Farine de Bl√© T110;58;;;;
Farine de Bl√© int√©grale  T150;55;;;;
Farine de Bl√© T45;69;;;;
Farine de Bl√© T55;67;;;;
Farine de Chataignes;46;;;;
Farine de Coco;8;;;;
Farine de pois chiches;16,5;;;;
Farine de Grand √©peautre T110;32;;;;
Farine de Grand √©peautre compl√®te T130;31;;;;
Farine de Grand √©peautre int√©grale T150;27;;;;
Farine de Kamut;32;;;;
Farine de Lentilles;18;;;;
Farine de Lupin;1,5;;;;
Ma√Øzena (choisir arrow root);73;;;;
F√©cule de ma√Øs (choisir plut√¥t arrow root);73;;;;
Farine de ma√Øs;55;;;;
Poudre de Noisettes;2,5;;;;
Poudre d‚ÄôAmandes;1,5;;;;
Farine de Quinoa;26;;;;
Farine de millet;45;;;;
Farine de Petit √©pautre;25;;;;
Farine de Riz;70;;;;
Farine de Sarrasin (sans gluten);27,5;;;;
Farine de Soja;6;;;;
Farine de Souchet;22;;;;
Farine de Seigle compl√®te;20;;;;
Bagel;33;;;;
Baguette blanche ;58,5;;;;
Biscottes;54;;;;
Blini ;39;;;;
Brioche;7,5;;;;
Cr√™pe V1 p√¢te MC;7,5;;;;
Cr√™pe V2 lait d‚Äôamande MC;7;;;;
Cr√™pe mille trous;7;;;;
Croissant;38;;;;
Crumpet anglais MC;14;;;;
Crozet √† la ch√¢taigne;69;;;;
Foccacia MC;20;;;;
Gaufres sal√©es l√©g√®res MC;12;;;;
Gaufres rapides MC;8;;;;
Gaufres li√©geoises rapides MC;17;;;;
G√©noise rapide MC;11;;;;
Krisprolls;33;;;;
Muffin anglais MC;16;;;;
Naan nature ou fromage MC;14,5;;;;
Naan ail MC;14,5;;;;
Nachos MC;11,5;;;;
Pain au son;27;;;;
Pain azyme;45;;;;
Pain au lait artisanal;27;;;;
Pain au lait MC;15;;;;
Pain au levain en moyenne;35;;;;
Pain blanc;100;;;;
Pain complet ;96;;;;
Pain au Kamut;32;;;;
Pain de mie;42;;;;
Pain de mie MC;33;;;;
Pain hamburger classique;42,5;;;;
Pain bun MC hamburger;15,5;;;;
Pain √©peautre int√©gral;27;;;;
Pain de seigle complet;29;;;;
Pain des fleurs sarrasin;49;;;;
Pain g√©orgien MC;17;;;;
Pain noir allemand;18;;;;
Pain au chocolat;48;;;;
Pain aux raisins;39,13;;;;
Pain grill√©;32,5;;;;
Pain sant√© M√©thode Chataigner;17;;;;
Pancake MC;8;;;;
P√¢te sabl√©e MC;24;;;;
Riz souffl√© en galette;64;;;;
Scones anglais MC;17,5;;;;
Wasa estimation;21,70;;;;
Wasa fibres estimation;16,10;;;;
P√¢te √† lasagnes MC;17;;;;
P√¢te √† lasagnes au sarrasin MC;15;;;;
P√¢te √† pizza chou-fleur MC;0,5;;;;
P√¢tes au bl√© complet cuites;12;;;;
P√¢tes de riz;21;;;;
Vermicelles de riz;21;;;;
Nouilles de riz;21;;;;
P√¢tes aux ≈ìufs cuites;13;;;;
P√¢tes blanches al dente;16;;;;
P√¢tes blanches cuisson normale;35;;;;
P√¢tes blanches bien cuites;45;;;;
P√¢te bris√©e MC;18;;;;
P√¢te feuillet√©e;32;;;;
P√¢te feuillet√©e maison FitOlin;12;;;;
P√¢tes fraiches aux ≈ìufs cuites;13;;;;
P√¢te gnocchis;24;;;;
Gnocchis;24;;;;
Abricot ;5;;;;
Ananas;7;;;;
Avocat;1;;;;
Banane ;13;;;;
Banane m√ªre;76;;;;
Baies de goji;14,5;;;;
Banane plantain cuite;20;;;;
Brugnon ;3;;;;
Cassis;1,5;;;;
Cerise ;8;;;;
Ch√¢taigne;22;;;;
Citron;0,5;;;;
Citron zeste;1;;;;
Cl√©mentine;3;;;;
Coing;5;;;;
Datte ;45;;;;
Figue;5;;;;
Fraise ;2;;;;
Framboises;2;;;;
Fruit de la passion;3;;;;
Goyave;6;;;;
Grenade ;5;;;;
Groseilles;2;;;;
Kaki ;7;;;;
Kiwi ;6;;;;
Litchi au sirop;13;;;;
Litchi ;8;;;;
Mandarine;3;;;;
Mangue ;7;;;;
M√©lange fruits rouges surgel√©s;2;;;;
Melon;11;;;;
Mirabelle ;7;;;;
M√ªre ;2;;;;
Myrtille;3;;;;
Nectarine ;3;;;;
Nefle;5;;;;
Orange (attention CG + √©lev√©e si mang√©e seule);4;;;;
Papaye;5;;;;
Pamplemousse ;2;;;;
Past√®que ;6;;;;
P√™che ;4,5;;;;
Poire (attention CG + √©lev√©e si mang√©e seule);6,5;;;;
Pomme (attention CG + √©lev√©e si mang√©e seule);4;;;;
Pomme au four;10;;;;
Prune;4;;;;
Pur√©e de prunes (Frutto puro) estimation;10;;;;
Pruneaux cuits;10;;;;
Raisin ;82;;;;
Rhubarbe cuite;5;;;;
Tomate ;1;;;;
Aubergines;0,5;;;;
Ail;6;;;;
artichaut;1;;;;
Asperge blanche;0,5;;;;
Asperge verte;0,5;;;;
Betteraves crues;5;;;;
Betteraves cuites;5;;;;
Blettes;0,5;;;;
Brocoli;0;;;;
Carottes crues;1;;;;
Carottes cuites;3;;;;
C√®leri rave cuit;4;;;;
C√®leri rave cru;1,5;;;;
C√®leri branche;0,5;;;;
Champignons;1;;;;
Champignons de paris;0,5;;;;
Choux de Bruxelle cuits;1;;;;
Choux blanc;1;;;;
Choux rouge;1;;;;
Choux fleur;0,5;;;;
Choux Kale;1,35;;;;
Kale choux;1,35;;;;
Choucroute cuite;1;;;;
Citrouilles;4,5;;;;
Concombre;0,5;;;;
Coeur de palmier;2;;;;
Courges;4;;;;
Courgettes;0,5;;;;
Endives;0,5;;;;
√âpinard;0,13;;;;
Fenouil;0,5;;;;
Graines germ√©es;0;;;;
Haricots verts ;1;;;;
Haricots beurre cuit;1,5;;;;
Haricots blancs;4;;;;
Haricot mungo, pousse de soja;1;;;;
Laitue;0,18;;;;
Mache;0;;;;
M√©lange l√©gumes surgel√©s;5,5;;;;
Navet cuit;1;;;;
Olive;1;;;;
Oseille;0;;;;
Oignon cuit;1;;;;
Panais;11,5;;;;
Petits pois;4;;;;
Poireau;0,5;;;;
Poivrons;1;;;;
Potiron;4;;;;
Pomme de terre cuite puis refroidie ;12;;;;
Pomme de terre au four, vapeur ou bouillie;19;;;;
Pomme de terre frites;30;;;;
Radis;0;;;;
radis noir;1;;;;
Rutabaga, choux;3;;;;
Sasifis;4;;;;
Soja graine;3;;;;
Tomates;1;;;;
Tempeh;1;;;;
Topinambour;8;;;;
Menthe feuilles;0;;;;
Coriandre, persil, herbes de Provence;0;;;;
Basilic feuilles;0;;;;
Cacahu√®tes grill√©es sal√©es;1;;;;
Graines de Chia;0,08;;;;
Graines de Courges;0,5;;;;
Graines de Lin;5;;;;
Graines de Sarrasin;26;;;;
Graines de S√©same;3;;;;
Graines de Soja;3;;;;
Graines de Tournesol;2;;;;
Huile de coco;0;;;;
Huile de Lin;0;;;;
Huile d‚ÄôOlive;0;;;;
Margarine diverse;0;;;;
Huile de P√©pins de Raisin;0;;;;
Beurre clarifi√©, ghee;0;;;;
Beurre ;0;;;;
Huile de S√©same;0;;;;
Vita Coco;0;;;;
Vita chia;0;;;;
Saint Hubert om√©gas 3;0;;;;
Margarine St hubert om√©gas 3;0;;;;
Margarine Primev√®re bio;0;;;;
Huile d‚Äôarachide;0;;;;
Huile de paraffine;0;;;;
Huile de Tournesol;0;;;;
Cr√®me all√©g√©e vache ;0,5;;;;
Cr√®me d‚ÄôAmande de cuisine;0;;;;
Cr√®me fra√Æche de Brebis;1;;;;
Cr√®me fra√Æche de Ch√®vre;1;;;;
Cr√®me de Coco;0;;;;
Cr√®me fra√Æche enti√®re de vache ;0;;;;
Cr√®me Fleurette ;0;;;;
Cr√®me de soja;0;;;;
Mascarpone;1;;;;
Cr√®me de Riz;8,5;;;;
Oeuf bio si possible bleu blanc coeur;0,5;;;;
B≈ìuf;0,5;;;;
Autruche;0;;;;
Charcuterie;0;;;;
Jambon;0;;;;
Viande;0;;;;
Kangourou;0;;;;
Steak, steak hach√© nature;0;;;;
Cheval;0;;;;
Caille;0;;;;
Ch√®vre;0;;;;
Dinde;0;;;;
Foie d'agneau;0;;;;
Foie de veau;0;;;;
Foie de morue (super riche en vit D et om√©ga 3);0;;;;
Gibier;0;;;;
Veau;0;;;;
Pigeon;0;;;;
Lapin;0;;;;
Poulet;0;;;;
Seitan ;4;;;;
Tofu, tofu lacto ferment√© (estimation);1;;;;
Produits de la mer, crustac√©es‚Ä¶;0;;;;
Escargots;0;;;;
Poisson blanc;0;;;;
Mollusques;0;;;;
Coquillages;0;;;;
Poisson gras (om√©gas 3);0;;;;
Fromage Brebis corse, Pyr√©n√©es;0;;;;
Fromage Feta;0,5;;;;
Fromage bleu, roquefort‚Ä¶;0;;;;
Fromage Fondu;3;;;;
Fromage Gruy√®re;0;;;;
Fromage Mozzarella de bufflonne;0;;;;
Fromage Parmesan;0;;;;
Fromage Raifort;6;;;;
Fromage Camembert;0;;;;
Fromage √† tartiner;2;;;;
Fromage de ch√®vre;0;;;;
Vinaigre balsamique;1,5;;;;
Vinaigre cidre;0;;;;
Sucre Blanc ;70;;;;
Amidon modifi√©;89;;;;
Chantifix;71;;;;
Sucre Coco;33;;;;
Sucre Complet/int√©gral;66,5;;;;
Sucre Eritritol;0;;;;
Miel;49;;;;
Miel d'accacia;28;;;;
Sucre Roux ;68;;;;
Sirop de bl√©, sirop de riz;85;;;;
Sirop de glucose;100;;;;
Sirop de ma√Øs;76;;;;
Sirop d‚Äôagave (attention au fructose libre qu‚Äôil contient);23;;;;
Sucrettes, √©dulcorants;0;;;;
Bi√®res;3;;;;
Alcool / incalculable;0;;;;
Th√©, tisane;0;;;;
Caf√© du matin +9% d‚Äôaugmentation glyc√©mie;0;;;;
Caf√© du midi +15% d‚Äôaugmentation glyc√©mie;0;;;;
Caf√© le soir +26% d‚Äôaugmentation glyc√©mie;0;;;;
Caf√© en poudre;3;;;;
Foodspring Sparkling aminos, IG non test√©, contient de la caf√©ine et des √©dulcorants perturbateur du microbiote intestinal;0;;;;
Th√© chai latte au miel, lait de ch√®vre;1;;;;
Boisson No caf√© frapp√©;3;;;;
Cidre;1;;;;
Caf√© de c√©r√©ales instantan√© type Yannoh (comptez le poids de la cuill√®re de 10g pas de votre bol comprenant de l‚Äôeau);27;;;;
Soda normal;7;;;;
soda 0;0;;;;
Chocolat au lait;4;;;;
Eau;0;;;;
Eau de coco;0;;;;
D√©coction ayurv√©dique;0,5;;;;
Isotonic (gatorade powerade);4;;;;
Jus Breuss;6;;;;
Jus d'orange;12;;;;
Jus de pommes;7;;;;
Jus de tomate;1;;;;
Jus multifruits;8;;;;
Jus la vie en rose;2;;;;
Jus soleil indien;1,5;;;;
Jus d√©tox;0,5;;;;
Jus vert;0,5;;;;
Jus l√©gumes proven√ßal;3;;;;
Lait de poule;1;;;;
Jus de carotte;8;;;;
Jus d‚Äôorange;12;;;;
Jus de pamplemousse;8;;;;
Ricor√© au lait Nesl√©, estimation (comptez le poids de la cuill√®re de 10g pas de votre bol comprenant de l‚Äôeau);10,60;;;;
Ricor√© nature, estimation (comptez le poids de la cuill√®re de 10g pas de votre bol comprenant de l‚Äôeau);4;;;;
Boisson Laxajus;8;;;;
Limonade;6,5;;;;
Lait de coco;1,5;;;;
Lait d'or;2;;;;
Jus de pruneaux MC;7;;;;
Pepsi avec sucre;7;;;;
Coca avec sucre;7;;;;
Soda sans sucre ou 0;0;;;;
Sodas en moyenne;7;;;;
Th√© glac√© maison sucr√© au miel;4;;;;
Boisson Virgin mojito MC ;1;;;;
Boisson Virgin Mojicha MC;4;;;;
Tonic;4;;;;
Yannoh vanille;22;;;;
Abricots sirop (bo√Æte) ;10;;;;
Ananas  (bo√Æte) ;10;;;;
Barres chocolat√©e sucr√©e;53;;;;
Barre muesli aux fruits secs;32;;;;
Bonbons;133;;;;
Bonbons dragibus;160;;;;
Boule de ma√Øs souffl√©e au miel;46;;;;
Chocolat blanc;26;;;;
Chocolat noir > 40%  cacao;26;;;;
Chocolat  noir> 70%  cacao;11;;;;
Chocolat lait;26;;;;
Confiture (en moyenne) ;38;;;;
Cookies industriels;92;;;;
Mars et barres chocolat√©es;122;;;;
G√¢teaux en moyenne (si pas maison);82;;;;
Doughnuts;74;;;;
Donuts industriels;37;;;;
P√¢te √† tartiner type Nutella;32;;;;
P√¢te d'amandes;25;;;;
P√™ches au sirop (bo√Æte);7;;;;
Pop corn nature;32;;;;
Cr√®me glac√©e en bac;73;;;;
Sorbet sucr√© ;19;;;;
Compote de pomme sans sucre ajout√©;19;;;;
Glace en b√¢ton type magnum;22;;;;
Abricots secs;18;;;;
Amandes;1,5;;;;
Bananes s√©ch√©es;42;;;;
Canneberge ou cranberries;34,5;;;;
Dattes;67;;;;
Figues s√®ches;33;;;;
Noix de coco;3;;;;
Noix de P√©can;0,5;;;;
Noix;1,5;;;;
Noix Amazonie, Br√©sil;1,5;;;;
Noisette;1;;;;
Noix de cajou;5,5;;;;
Olive noire;0;;;;
Pomme s√©ch√©e;20;;;;
Pistaches;2;;;;
Pruneau;29;;;;
Raisins secs;58;;;;
Tomate s√©ch√©e;15;;;;
Sauce Barbecue;14;;;;
Coulis de tomate;3,5;;;;
Concentr√© de tomates;5;;;;
Harissa;0;;;;
Ketchup;15;;;;
Moutarde;2,5;;;;
Sauce tomates;5;;;;
Sauce Tamari (soja ferment√©);3,5;;;;
Agar-agar;0,5;;;;
Ail, gousse ;6,5;;;;
Anis √©toil√© (badiane);2,5;;;;
Arrow Root f√©cule;11;;;;
Bicarbonate de soude;0;;;;
Cannelle en poudre ;1,5;;;;
Cardamome;2;;;;
Clou de girofle;3;;;;
Cumin en poudre;2;;;;
Curcuma en poudre;2;;;;
Echalotes;2;;;;
Epices (en moyenne);2;;;;
G√©latine animale d√©conseill√©e;0;;;;
Gingembre racine;0,5;;;;
Gingembre moulu;9;;;;
Levure de boulanger;12;;;;
Levure chimique remplacer par bicarbonate;12;;;;
Menthe feuille;0;;;;
Oignon cuit;1;;;;
Herbe de Provence;0;;;;
Oignon cru;1;;;;
Piment;3;;;;
Poivre noir;2;;;;
Vanille;1;;;;
Thym;0;;;;
Poisson pan√©;5,5;;;;
Sardine √† l‚Äôhuile (privil√©giez l‚Äôhuile d'olive);0;;;;
Saumon fum√©;0;;;;
Surimi attention aux additifs;6;;;;
Tarama attention aux additifs;3,5;;;;
Sushi;15;;;;
Crustac√©s;0;;;;
Filet de harengs;0;;;;
Crevettes;0;;;;
Homard;0;;;;
Ecrevisse;0;;;;
Huitre;0;;;;
Moule;0;;;;
Langouste, langoustine;0;;;;
Crabe;0;;;;
Pur√©e Amandes;2;;;;
Beurre de cacahuete;2,5;;;;
Cr√®me de Marrons/chataignes nature;12,5;;;;
Pur√©e de Noisettes;2;;;;
Pur√©e de Noix de cajoux;11;;;;
Pur√©e de Pistache;2;;;;
Tahin, pur√©e de s√©same;6;;;;
Pur√©e de S√©same, tahin;6;;;;
Petit suisse aromatis√© 1/2 √©cr√©m√©;15;;;;
Skyr yaourt ;2;;;;
Yaourt Skyr;2;;;;
Gervita, fromage blanc et cr√®me fouett√©e;6;;;;
Fromage frais aux fruits, carrefour, estimation;3,60;;;;
Petit Gervais aux fruits, Danone, estimation;4;;;;
Danonino, petit suisse aux fruits, estimation;4;;;;
Petit suisse Gervais aux fruits, estimation;4,5;;;;
Petit suisse nature, estimation;1;;;;
Danette au chocolat, estimation;7;;;;
Danette vanille, estimation;5;;;;
Danette caramel sal√©, estimation;6;;;;
Danette Caramel, estimation;6;;;;
Flanby Nestl√©, estimation;6;;;;
Fromage blanc 0%;1,2;;;;
Fromage blanc 3%;1;;;;
Fromage blanc nature ou aux fruits en moyenne;2;;;;
Dessert au soja non sucr√©;1,5;;;;
Dessert au lait de riz non sucr√©;14,5;;;;
Dessert v√©g√©tal sauf riz et soja, non sucr√©;6;;;;
Yaourt, dessert v√©g√©tal sauf riz et soja, non sucr√©;6;;;;
Yaourt, dessert au lait de riz non sucr√©;14,5;;;;
Yaourt, dessert au soja non sucr√©;1,5;;;;
Yaourt 0% aux fruits sucr√©, d√©conseill√©;19;;;;
Yaourt au lait animal consomm√© seul, estimation;5;;;;
Yaourt sans lactose si consomm√© seul hors des repas, estimation;6,4;;;;
Yaourt sans lactose si consomm√© pendant un repas;1,5;;;;
Yaourt 1/2 √©cr√©m√© aromatis√© sucr√©;19;;;;
Yaourt 1/2 √©cr√©m√© sucr√©;15;;;;
Yaourt √† boire sucr√©;17;;;;
Yaourt all√©g√©;4;;;;
Yaourt aux fruits;14;;;;
Yaourt lait de ch√®vre aromatis√©, sucr√©, estimation;8;;;;
Yaourt au lait de ch√®vre, nature 5%;0,5;;;;
Yaourt de brebis √† la grecque;5;;;;
Yaourt au lait de brebis aromatis√© sucr√©;3,35;;;;
Yaourt de brebis marque Vrai nature;1,5;;;;
Yaourt style √† la grecque, topping miel;6;;;;
Yoghurt greek style, honey topped;6;;;;
Yaourt lait entier nature sucr√©;14,5;;;;
Yaourt nature en moyenne, attention estimation 115 si consomm√© seul;1,26;;;;
Biscuits sal√©s ap√©ritif;42;;;;
Tortillas chips de ma√Øs ;25;;;;
Cacahu√®tes grill√©es sal√©es;2;;;;
Crackers fromage;36;;;;
Crackers;87;;;;
Houmous, pur√©e de pois chiches;3;;;;
P√¢tisserie en moyenne;24;;;;
Biscuit sucr√©;45,5;;;;
Biscuits fourr√©s chocolat au lait Evernat, estimation;14,50;;;;
Croissant ordinaire;79;;;;
Flan patissier de boulangerie;24;;;;
Croissant au beurre;23;;;;
Brioche;30;;;;
Brioche fit lait de ch√®vre;14;;;;
Brioche fit lait de soja;14;;;;
Brioche fit lait de vache;14;;;;
Pain au lait artisanal;27;;;;
Chausson aux pommes;17;;;;
Petit beurre;37;;;;
Pain au chocolat;25;;;;
Sp√©culos;37;;;;
Eclair au chocolat;15,5;;;;
Maquereaux au vin blanc (estimation);1;;;;
Nems en moyenne si frits (estimation);15;;;;
Nems en moyenne si cuits au four (estimation);9;;;;
Galette bretonne bl√© noir, sarrasin (estimation);19;;;;
Feuille de brick;36;;;;
Cr√™pe garnie aux oeufs MC;5;;;;
Yummi avocat MC;2;;;;
Croque madame;9,50;;;;
Sauce blanche MC;2;;;;
Salade cl√©op√¢tre avec sauce blanche MC;3;;;;
M√©lange fruits rouge surgel√©s;2;;;;
Aubergine √† la japonaise MC;4;;;;
Marmite √† la japonaise MC;4;;;;
Tartare de saumon MC;5;;;;
Lasagne MC;7;;;;
√âpeautre petiti dej banane MC;15;;;;
√âpeautre petit dej pomme MC;12;;;;
Amlou MC;2;;;;
Celeri remoulade MC;3;;;;
Tartare d‚Äôalgues MC;3;;;;
Poireaux vinaigrette;1;;;;
Quiche sans p√¢te MC;2;;;;
Oeuf coque avec 2 mouillettes MC;5;;;;
Oeuf imparfait centenaire;3;;;;
Guacamole MC;1;;;;
Fajitas poulet MC;5,5;;;;
Taboul√© de quinoa MC;3;;;;
Petit pain sant√© po√™l√© MC;17;;;;
Houmous maison MC;4;;;;
Poulet marin√© au citron MC;1;;;;
Fauxmage de macadamia MC;0,5;;;;
Salade asiatique avec sauce MC;2;;;;
Marmite √† la japonaise MC;4;;;;
Curry rouge de gambas MC;1;;;;
Salade du sud ouest MC;3,5;;;;
Omelette roul√©e √† la dinde MC;0,5;;;;
Salade chou chinois et fenouil MC;1;;;;
Poisson √† la vietnamienne MC;2;;;;
Cr√®me v√©g√©tale coco vanille MC;3,50;;;;
Tiramisu maison MC;24;;;;
Frozen banana MC;12;;;;
Confiture maison MC;4;;;;
Cr√®me Ch√© Dau Do MC;6;;;;
Carotte cake MC;15;;;;
G√¢teau cannel√© cannelle MC;12;;;;
Pudding coco-chia MC;7;;;;
Pain d‚Äô√©pice v√©gan MC;19;;;;
Pain d‚Äô√©pices normal MC;11;;;;
Cr√©me glac√©e fruits rouges MC;9;;;;
Cheesecake MC;6;;;;
Charlotte poire chocolat MC;22;;;;
Cr√®me de myrtille fitolin MC;5;;;;
Mixte d‚Äôoignons libanais MC;1;;;;
Ratatouille MC;2,5;;;;
Chantilly MC;7;;;;
Salade de betteraves MC;5;;;;
Omelette chakchouka libanaise MC;1;;;;
Blanc-manger MC;3;;;;
Jus du po√®te MC;3;;;;
Croque monsieur au poulet MC;6;;;;
Epinards au k√©fir MC;1;;;;
Nage de st Jacques et quinoa MC;2,5;;;;
Oeufs au lait MC;2;;;;
Jus des 4 mousquetaires MC ;1;;;;
Muffin avocat saumon MC;4;;;;
Brocolis rotis MC;0;;;;
Oeufs mollets √©pinards MC;1,5;;;;
Croquants aux amandes MC;16,5;;;;
Jus de l‚Äôabuela MC;0;;;;
Oeufs mimosas MC;0,5;;;;
Soupe de lentilles corail coco MC;2;;;;
Pain de saumon MC;2;;;;
Mousse au chocolat MC;3;;;;
Jus grand-m√®re MC;0,5;;;;
Muffin anglais oeufs B√©n√©dicte MC;4;;;;
Soupe tha√Ø raviolis vapeur MC;2;;;;
Flan th√© vert MC;1;;;;
Sabl√©s amandes et noix MC;10;;;;
Jus Betty boom MC;5;;;;
Faux gras MC;2;;;;
Soupe butternut √©clats de ch√¢taignes MC;5;;;;
Energie balls MC;46;;;;
Jus choublette MC;0,5;;;;
Cr√™pe saumon fromage MC;2,5;;;;
Verrine butternut coco MC;2;;;;
Choucroute de la mer patate douce MC;4;;;;
Fondant chocolat amande MC;3;;;;
Gimb√©r√© arrang√© MC;5;;;;
Toast oeufs lardons poulet MC;8,5;;;;
Soupe √† l‚Äôoignon MC;0,5;;;;
Chou farci √† la viande MC;0,5;;;;
Pana cotta vanille/framboise MC;3;;;;
Toast avocat saumon MC;9;;;;
Salade d‚Äôendives MC;2;;;;
Gratin de patate douces et cabillaud MC;3;;;;
Crumble de poire au FitOlin MC;9;;;;
Galettes de patates douces et polenta MC;23;;;;
Lentilles en salade orientale MC;10;;;;
Saumon grill√© pur√©e de brocoli p√©corino MC;0,10;;;;
Cr√®me de citron FitOlin MC;6;;;;
A√ßai bowl MC;6;;;;
Velout√© de fenouil MC;2;;;;
Endives au jambon MC;1;;;;
Ch√¢taignes grill√©es √† la po√™le MC;22;;;;
Fitshake MC;2;;;;
Salade d‚Äôhiver mi-cuite MC;4;;;;
Saumon piment√© fenouil nouille de riz MC;3;;;;
Tuiles aux amandes MC;9;;;;
Tzatziki MC;1;;;;
Calamar libanais sauce tarator MC;6;;;;
Flan coco MC;0,5;;;;
Omelette berrichonne;17;;;;
Tapas espagnol a√Øoli et pain MC;7;;;;
Gambas √† l‚Äôail MC;1;;;;
Gratin de l√©gumes libanais;1;;;;
Mousse au chocolat pois chiches MC;9;;;;
P√¢t√© v√©g√©tal √† tartiner MC;2,5;;;;
Asperge sauce mousseline MC;0,6;;;;
Souffl√© d‚Äôoeufs au four MC;0;;;;
Palets bretons MC;15;;;;
Oeufs B√©n√©dicte au saumon et pain de mie MC;3,5;;;;
Tomates vinaigrette MC;1;;;;
Poulet korma MC;1;;;;
Fitshake caf√© glac√© MC;6;;;;
Carpaccio de courgette MC;1;;;;
Pizza d‚Äôaubergine au ch√®vre MC;1;;;;
Cake fondant au citron MC;11;;;;
Carottes r√¢p√©es sauce au miel MC;3;;;;
Saumon grill√© √©pinards √† la cr√®me MC;1;;;;
Tarte au citron MC;11;;;;
Muffins sal√©s MC;9;;;;
Frittata d‚Äôasperge et petits pois MC;1;;;;
Pana cotta au chocolat MC;6;;;;
Amarante du sportif MC;12;;;;
Gazpacho avocat concombre MC;1;;;;
Salade caesar MC;5;;;;
Tarte fine aux fraises MC;9;;;;
Salade concombre fraise menthe MC;5;;;;
Oeufs √† la mexicaine MC;2;;;;
Taboul√© libanais boulgour MC;9;;;;
Escalope de poulet milanaise MC;5;;;;
Fleur de courgette MC;1;;;;
Toast avocat ch√®vre MC;5;;;;
Salade de papaye verte MC;7;;;;
Poulet tha√Ø MC;1;;;;
P√¢tes sobƒÖ ;30;;;;
Mangue shake k√©fir de lait MC;3,5;;;;
Gaufre au saumon MC;1,5;;;;
Tajine de poulet MC;17;;;;
Salade de f√™ta libanaise MC;1,5;;;;
Sorbet b√¢ton past√®que MC;13;;;;
Galettes de courgette MC;1;;;;
Caviar d‚Äôaubergine MC;1;;;;
Moules farcies Midy√© libanaises MC;4,5;;;;
Smoothie glac√© aux fruits d‚Äô√©t√© MC;15;;;;
Blinis fromage frais saumon aneth MC;23;;;;
Concombre farci saumon ch√®vre MC;0,5;;;;
Bhaji d‚Äôaubergine MC;2;;;;
Soupe de fruit rouge MC;3;;;;
Cake f√™ta olive MC;6;;;;
Sucr√© sal√© de chou blanc libanais MC;1;;;;
Ceviche de loup;1;;;;
Clafoutis MC;3,5;;;;
Soupe de poisson croutons √† l‚Äôail MC;2;;;;
Scones au blanc de poulet et fromage MC;5,5;;;;
Caviar d'aubergine libanais rapide et pain mita MC;20;;;;
Gigot d‚Äôagneau et haricots blancs tomate MC;3;;;;
Artichauts mayonnaise amande MC;4;;;;
Cr√®me d‚Äôavocat et chia au k√©fir MC;6;;;;
Carpaccio de boeuf MC;0,5;;;;
Frites au four MC;74;;;;
Flan au caf√© MC;6;;;;
Sandwich pain au lait poulet fromage MC;4;;;;
Salade au roquefort et noix MC;1,5;;;;
Risotto de quinoa aux champignons MC;4;;;;
Crumble pommes raisins MC;9;;;;
Omelette aux champignons MC;1;;;;
Pizza libanaise MC;10;;;;
Cr√®me vanille FitOlin MC;2,5;;;;
Houmous libanais MC;3;;;;
Tava de l√©gumes libanais MC;1;;;;
Poulet entier libanais MC;3;;;;
Cornes de gazelle MC;11,5;;;;
Houmous √† la tomate MC;20;;;;
Velout√© potiron ch√¢taignes ;7;;;;
St Jacques pur√©e de c√©leri aux truffes MC;4;;;;
Baklawa libanais MC;18;;;;
Toast de patates douces MC;7;;;;
C√®leri r√©moulade MC;1;;;;
Poulet aux amandes et riz basmati MC;15;;;;
Cookies d‚ÄôAvrile MC;16;;;;
Omelette aux fines herbes MC;1;;;;
Velout√© de chou-fleur coco MC;1;;;;
Lasagnes v√©g√©tariennes MC;4,5;;;;
Rillettes de sardines et salade d‚Äôalgues MC;12;;;;
Bagel au saumon MC;20;;;;
Terrine de ch√¢taigne fenouil MC;10;;;;
Pot au feu MC;2;;;;
Ile flottante MC;5;;;;
Oeuf cocotte et pain maison MC;6;;;;
Soupe de patate douce MC;2,5;;;;
Blanquette de poulet champignons MC;1;;;;
Pain g√©orgien au fromage MC;3,5;;;;
Verrines m√¢che ch√®vre MC;1;;;;
Couscous v√©g√©tarien MC;18;;;;
Couscous v√©g√©tarien oignons confits miel datte MC;24;;;;
Brownie patate douce MC;10;;;;
Patate douce r√¥tie MC;7;;;;
Cr√®me chocolat FitOlin rapide MC;3;;;;
Tartiflette de patates douces MC;3;;;;
Omelette fluffy MC;1;;;;
Bailla, salade libanaise MC;12;;;;
Filet de bar endives brais√©es MC;2;;;;
Tourte ni√ßoise aux blettes sucr√©e;32;;;;
Toast patates douces au jambon MC;2,5;;;;
Falafels libanais MC;5;;;;
Mug cake FitOlin MC;6,5;;;;
Soupe de l√©gumes d‚Äôhiver MC;3,5;;;;
Granola maison MC;18;;;;
Ailes de poulet marin√©es libanaises MC;1;;;;
Salade piquante libanaise MC;1,5;;;;
Tartelette fraise rhubarbe MC;11;;;;
Salade de printemps MC;1;;;;
Shakshuka libanaise MC;2;;;;
Paella valenciana MC;34;;;;
Fondue au chocolat MC;14;;;;
Cloud eggs sur toast MC;6,5;;;;
Chirashi au saumon MC;20;;;;
Framboisier express MC;6;;;;
Avocat cocotte oeuf MC;1;;;;
Fatayer libanais chaussons √©pinards MC;4;;;;
Poivrons farcis ricotta MC;1,5;;;;
Tartelette pomme gingembre MC;22;;;;
Cr√™pe √† l‚Äôamandella MC;12;;;;
Houmous petits pois MC;2,5;;;;
Pintade au chou MC;7;;;;
Cr√™pe compl√®te MC;3,5;;;;
Pamplemousse au crabe MC;8,5;;;;
Moussaka MC;3;;;;
Laxabowl MC;2,5;;;;
Mini pizza amandella coco MC;12;;;;
Frittata brocoli MC;1;;;;
Salade carottes betteraves MC;3;;;;
Filet de cabillaud grill√© MC;0,5;;;;
Oeuf en cocotte de tomate MC;1;;;;
Tatin de courgette ch√®vre miel MC;11;;;;
Chou rouge libanais MC;1;;;;
Bounty glac√© MC;3;;;;
Saumon √† l‚Äôunilat√©ral MC;1;;;;
Fleurs d‚Äôoeufs en poivron MC;1;;;;
Aubergines parmigiana MC;5;;;;
Muffins myrtille orange MC;8;;;;
Mouhamara, cr√®me de poivrons, pita MC;12;;;;
C√¥te d‚Äôagneau libanaise riz basmati MC;9,5;;;;
Brochette de crevettes poivrons, quinoa MC;12,5;;;;
Empanadas d‚ÄôArgentine MC;10;;;;
Soupe de cerise MC;2,5;;;;
Saumon gravelax avocat MC;2;;;;
Cannel√©s MC;12;;;;
Daurade mahi-mahi Cr√©ole MC;7;;;;
Banana bread MC;19;;;;
Salade verte sans fronti√®re MC;1;;;;
Poivrons √† l‚Äôail MC;1;;;;
Oeufs √† la diable MC;1;;;;
Tarte tatin MC;16,5;;;;
Tostada tomate rallada jambon MC;10;;;;
P√™ches au thon MC;2;;;;
Magret de canard, haricots verts, pdt MC;10;;;;
Chocolat chaud italien MC;5;;;;
Gazpacho, tartines poivrons ail MC;10;;;;
Pizza du matin MC;10;;;;
Soupe froide italienne MC;1;;;;
Gambas flamb√©es pastis et riz basmati MC;3;;;;
Guacamole et nachos MC;10;;;;
Poisson et tomates proven√ßales MC;1,5;;;;
Oeufs durs farcis avocat MC;6;;;;
Salade de chou chinois MC;4;;;;
Houmous du chef libanais MC;1,5;;;;
Pad tha√Ø crevette tofu MC;4,5;;;;
Rouleaux de printemps betterave MC;3;;;;
Kefta libanais MC;1;;;;
Tarte √† la ch√¢taigne MC;17;;;;
Scone au fromage MC;10;;;;
Salade fattouche libanaise MC;10;;;;
G√¢teau moelleux ch√¢taigne MC;14;;;;
Soupe au pistou MC;4;;;;
Crumpet amlou baies MC;11;;;;
L√©gumes r√¥tis bolognaise MC;3;;;;
Tarte aux prunes alsacienne MC;15;;;;
Poisson cru tahitienne MC;6;;;;
Muffin oeuf bacon MC;4;;;;
Salade de fenouil cru marocaine MC;1;;;;
Cassoulet toulousain confit MC;3;;;;
G√¢teau d‚Äôautomne MC;20;;;;
G√¢teau chocolat courgette MC;12;;;;
Beureks arm√©niens MC;16;;;;
Lasagnes de l√©gumes sans p√¢te MC;1;;;;
Bavarois myrtille MC;19;;;;
Soupe au chou, tartine √† l‚Äôail MC;5;;;;
Tortilla espagnole MC;16;;;;
Terrine de sanglier MC;1;;;;
Pot√©e au chou MC;5;;;;
Compote de banane MC;19;;;;
Scampis diabolo MC;1;;;;
Cappuccino pois cass√©s MC;4;;;;
Burger maison MC;13;;;;
Frites de patates douces MC;6;;;;
Galette frangipane MC;19;;;;
Courge spaghetti carbo de la mer MC;2,5;;;;
Brioche fit garnie MC;15;;;;
Soupe carotte cumin MC;4;;;;
Chili con seitan MC;11;;;;
B√ªche chocolat ch√¢taigne MC;6;;;;
Tartine fromage frais jambon MC;13;;;;
Salade de foies de volaille MC;4;;;;
Quenelles de brochet MC;4;;;;
Financiers citron MC;20;;;;
Velout√© de ch√¢taignes MC;8;;;;
Mille feuilles de pancake sal√© MC;5;;;;
Avocat crevette MC;1;;;;
Courgette farcie au poulet et riz MC;8;;;;
Tarte potiron MC;17;;;;
Soupe de lentilles vertes MC;1;;;;
Dolce bowl MC;10;;;;
Couscous libanais MC;16;;;;
namoura, dessert libanais MC;30;;;;
Galette aux pommes de terre berrichonne MC;11;;;;
Pizza de chou-fleur MC;1;;;;
Quinoa au lait MC;10;;;;
Soupe de courge ch√¢taignes MC;4,5;;;;
Quiche fromage ch√®vre MC;9;;;;
Burger du rebelle MC;23,5;;;;
Chocolat viennois MC;6;;;;
Pur√©e potirons truffe MC;3,5;;;;
Laxabowl poire MC;5;;;;
Oignons rings MC;18;;;;
Spaghettis de courgette carbonara MC;1,5;;;;
Milkshake mango-choco MC;4;;;;
Salade simple libanaise et pain pita MC;18;;;;
Cr√™pe mille trous et amlou MC;5;;;;
Salade d‚Äôendive pomme raisin MC;7;;;;
Flan ricotta courgette et pain MC;10;;;;
Cr√®me br√ªl√©e MC;5;;;;
Chou-fleur vapeur mayonnaise MC;1;;;;
Courgettes farcies libanaise MC;4;;;;
Far aux pruneaux breton MC;18;;;;
Buddha bowl MC;8;;;;
Crumble framboises FitOlin MC;7,5;;;;
Salade fenouil menthe pamplemousse MC;1;;;;
Pizza 4 fromages MC;10;;;;
Clafoutis abricots MC;7;;;;
Salade champignons amande MC;1;;;;
Petit d√©jeuner trompe l‚Äôoeil MC;5;;;;
Tarte soleil MC;11;;;;
Poulet laqu√© s√©same poivrons MC;2;;;;
Compote de rhubarbe MC;7;;;;
Pancake fourr√© amandella MC;3,5;;;;
Salade marocaine MC;1;;;;
Risotto truffe MC;13;;;;
Mousse de framboises MC;3;;;;
Accra de courge sauce chien MC;6;;;;
Foccacia di Recco MC;10;;;;
G√∂zlems turcs v√©gans MC;4,5;;;;
Poire poch√©e aux √©pices MC;15;;;;
Soupe harira MC;8;;;;
`.trim();
function parseAliments(csv) {
  // Normalise les fins de ligne
  const text = csv.replace(/\r\n?/g, '\n').trim();
  const lines = text.split('\n');
  if (!lines.length) return [];
  // D√©tection du s√©parateur sur la LIGNE D‚ÄôEN-T√äTE uniquement
  const header = lines[0];
  const count = s => (header.match(new RegExp('\\' + s, 'g')) || []).length;
  const cSemis = count(';'), cCommas = count(','), cTabs = count('\t');
  let sep = ';';
  if (cSemis >= cCommas && cSemis >= cTabs && cSemis > 0) sep = ';'
  else if (cCommas >= cTabs && cCommas > 0) sep = ','
  else if (cTabs > 0) sep = '\t';

  const headers = header.split(sep).map(h => h.trim());

  const idxName = headers.findIndex(h => /aliment/i.test(h));
  const idxCg   = headers.findIndex(h => /(charge).*?(100|cg)/i.test(h));
  const nameCol = idxName !== -1 ? idxName : 0;
  const cgCol   = idxCg   !== -1 ? idxCg   : 1;

  const out = [];
  for (let i = 1; i < lines.length; i++) {
    if (!lines[i].trim()) continue;
    const cells = lines[i].split(sep).map(s => s.trim());

    const name = (cells[nameCol] || '').replace(/^"|"$/g, '');
    let cgStr  = (cells[cgCol]   || '').replace(/^"|"$/g, '');

    if (!name || !cgStr) continue;

    // virgule d√©cimale -> point
    cgStr = cgStr.replace(',', '.');

    const cg100 = Number(cgStr);
    if (!Number.isFinite(cg100)) continue;

    out.push({ name, cg100 });
  }
  return out;
}
</script>
</head>
<body>
<header>
  <h1>Ma journ√©e ‚Äì Calculateur de charge glyc√©mique</h1>
</header>

<main>
  <div class="card">
   <div class="toolbar">
  <input id="search"
         type="text"
         list="foods-list"
         placeholder="Rechercher un aliment‚Ä¶"
         autocomplete="off" />
  <button id="add">+ Ajouter l‚Äôaliment</button>
  <button id="save">Sauvegarder</button>
  <button id="clearAll" class="btn-danger">Vider la journ√©e</button>
</div>
</div>
<datalist id="foods-list"></datalist>

  <div id="rows"></div>

  <div class="card total">
    <div>Total charge glyc√©mique du jour</div>
    <div id="total">0.0</div>
  </div>

  <div class="card warn">
    Taper les premi√®res lettre de l'aliment ou recette. Cliquer sur ajouter l'aliment. Entrer le poids de la portion consomm√©e, cliquer sur sauvergarder. Recommencer pour tout ce que vous avez mang√© dans la journ√©e. Pour perdre de la masse grasse : la charge glyc√©mique de la journ√©e doit √™tre inf√©rieure √† 80..  
    Si vous effacez l‚Äôhistorique/cookies du navigateur, la journ√©e sera r√©initialis√©e.
  </div>

  <div class="footer"> ¬© M√©thode Chataigner ‚Äî
  <a href="https://linktr.ee/Methode.Chataigner" target="_blank" rel="noopener noreferrer">
    Booster vos r√©sultats avec nos programmes en ligne ou contactez-nous
  </a></div>
</main>

<script>
// ===== Logique app =====
const FOODS = parseAliments(CSV_ALIMENTS);
console.log('Aliments charg√©s :', FOODS.length, FOODS.slice(0,5));

const $rows   = document.getElementById('rows');
const $list   = document.getElementById('foods-list');
const $search = document.getElementById('search');
const $total  = document.getElementById('total');
const KEY     = 'cg_journee_v1';
// Prot√®ge les caract√®res sp√©ciaux pour l'HTML
function escapeHtml(s){
  return String(s).replace(/[&<>"']/g, m =>
    m === '&' ? '&amp;'  :
    m === '<' ? '&lt;'   :
    m === '>' ? '&gt;'   :
    m === '"' ? '&quot;' : '&#39;'
  );
}
function hydrate(list){
  $rows.innerHTML = '';
  (list || []).forEach(r => addRow(r));
}
function fillDatalist(){
  if (!Array.isArray(FOODS) || !FOODS.length) return;
  $list.innerHTML = FOODS
    .map(f => `<option value="${escapeHtml(f.name)}"></option>`)
    .join('');
}
function load(){
  try {
    return JSON.parse(localStorage.getItem(KEY) || '[]');
  } catch (e) {
    return [];
  }
}
function updateTotal(){
  let t = 0;
  // additionne toutes les valeurs CG affich√©es dans les lignes
  $rows.querySelectorAll('.card .cg-item').forEach(input => {
    const n = Number(String(input.value).replace(',', '.'));
    if (Number.isFinite(n)) t += n;
  });
  // affiche un total avec 1 d√©cimale
  $total.textContent = (Math.round(t * 10) / 10).toFixed(1);
}
// Attache les √©couteurs quand le DOM est pr√™t
// --- utilitaires nombres/format ---
function parseNumber(s){
  const n = Number(String(s ?? '').replace(',', '.').trim());
  return Number.isFinite(n) ? n : 0;
}
function format(x){
  return Number.isFinite(x) ? (Math.round(x * 10) / 10).toFixed(1) : '';
}

// --- retrouver un aliment par son nom (insensible √† la casse/espaces) ---
function findFoodByName(name){
  const n = String(name || '').trim().toLowerCase();
  return FOODS.find(f => f.name.toLowerCase() === n) || null;
}

// --- gabarit HTML d'une ligne ---
function rowTemplate(row){
  return `
    <div class="card">
      <div class="row">
        <input class="food" list="foods-list" placeholder="Aliment"
               value="${escapeHtml(row.food || '')}">
        <input class="grams" type="number" min="0" step="1" placeholder="g"
               value="${row.grams ?? ''}">
        <input class="cg-item" type="text" readonly value="${format(row.cg)}">
        <button type="button" class="btn-ghost" data-action="del">üóë</button>
      </div>
    </div>`;
}

// --- ajouter une ligne et brancher les √©v√©nements ---
function addRow(row = {}){
  $rows.insertAdjacentHTML('beforeend', rowTemplate(row));
  const card  = $rows.lastElementChild;
  const $food = card.querySelector('.food');
  const $g    = card.querySelector('.grams');
  const $cg   = card.querySelector('.cg-item');
  const $del  = card.querySelector('[data-action="del"]');

  function recompute(){
    const f   = findFoodByName($food.value);
    const g   = parseNumber($g.value);
    const cg  = f ? (f.cg100 * g / 100) : 0;
    $cg.value = format(cg);
    save();
    updateTotal();
  }

  $food.addEventListener('input', recompute);
  $g.addEventListener('input',   recompute);
  if ($del){
    $del.addEventListener('click', () => {
      card.remove();
      save();
      updateTotal();
    });
  }
  // calcul initial si valeurs pr√©remplies
  recompute();
}

// --- s√©rialisation / persistance ---
function serialize(){
  return Array.from($rows.querySelectorAll('.card')).map(card => ({
    food:  card.querySelector('.food').value,
    grams: parseNumber(card.querySelector('.grams').value)
  }));
}
function save(){
  localStorage.setItem(KEY, JSON.stringify(serialize()));
}
window.addEventListener('DOMContentLoaded', () => {
  fillDatalist();
  hydrate(load());
  updateTotal();

  const $btnAdd   = document.getElementById('add');
  const $btnSave  = document.getElementById('save');
  const $btnClear = document.getElementById('clearAll');

  if ($btnAdd) $btnAdd.addEventListener('click', () => {
    const s = $search.value.trim();
    if (s) { addRow({ food: s, grams: '' }); $search.value = ''; }
    else   { addRow(); }
    save(); updateTotal();
  });

  if ($btnClear) $btnClear.addEventListener('click', () => {
    if (!confirm("Vider votre journ√©e ?")) return;
    localStorage.removeItem(KEY);
    $rows.innerHTML = '';
    updateTotal();
  });

  if ($btnSave) $btnSave.addEventListener('click', () => {
    save();
    alert('Journ√©e sauvegard√©e sur cet appareil ‚úÖ');
  });
});
</script>
</body>
</html>
